var data = {
    "0": [
        ['', '0', '', '0', '', '妹,false', '0', '狗,false', '', '0'],
        ['害,false', '0', '耍,false', '', '0', '0', '0', '0', '0', ''],
        ['', '0', '0', '', '0', '0', '', '0', '0', ''],
        ['', '', '', '心,false', '', '', '', '崩,false', '', ''],
        ['', '0', '0', '', '0', '0', '套,false', '0', '0', ''],
        ['', '0', '命,false', '', '0', '', '', '0', '0', '船,false'],
        ['0', '0', '', '0', '0', '0', '', '0', '', '0'],
        ['', '0', '缺,false', '0', '', '渡,false', '', '0', '套,false', ''],
        ['', '0', '', '0', '0', '0', '', '0', '0', '0'],
        ['躺,false', '', '0', '', '石,false', '', '0', '', '4,false', '']
    ],
    "1": [
        ['1', '01', '02', '03', '04', '05', '06', '07', '08', '09'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13,false', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '0', '15', '0', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19']
    ],
    "2": [
        ['2', '01', '02', '03', '04', '', '06', '07', '08', '09'],
        ['10', '11', '12', '13', '14', '0', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15,false', '16', '17', '18', '19'],
        ['10', '11', '12', '0', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19']
    ],
    "3": [
        ['3', '01', '02', '03', '04', '05', '06', '07', '08', '09'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '0', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15,false', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '0', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19']
    ]
}
var mydata = {
    "0": [
        ['厉', '0', '玩', '0', '撩', '妹', '0', '狗', '带', '0'],
        ['害', '0', '耍', '宝', '0', '0', '0', '0', '0', '友'],
        ['了', '0', '0', '宝', '0', '0', '总', '0', '0', '谊'],
        ['我', '的', '内', '心', '几', '乎', '是', '崩', '溃', '的'],
        ['的', '0', '0', '里', '0', '0', '套', '0', '0', '小'],
        ['哥', '0', '命', '苦', '0', '套', '路', '0', '0', '船'],
        ['0', '0', '里', '0', '0', '0', '得', '0', '解', '0'],
        ['葛', '0', '缺', '0', '摆', '渡', '人', '0', '套', '吃'],
        ['优', '0', '金', '0', '0', '0', '心', '0', '0', '0'],
        ['躺', '赢', '0', '泥', '石', '流', '0', 'A', '4', '腰']
    ],
    "1": [
        ['1', '01', '02', '03', '04', '05', '06', '07', '08', '09'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13,false', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '0', '15', '0', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19']
    ],
    "2": [
        ['2', '01', '02', '03', '04', '', '06', '07', '08', '09'],
        ['10', '11', '12', '13', '14', '0', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15,false', '16', '17', '18', '19'],
        ['10', '11', '12', '0', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19']
    ],
    "3": [
        ['3', '01', '02', '03', '04', '05', '06', '07', '08', '09'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '0', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15,false', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '0', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19'],
        ['10', '11', '12', '13', '14', '15', '16', '17', '18', '19']
    ]
}
var group = ['0,1', '0,2', '0,3', '1,2', '1,3', '2,3'];
var cache = [];
var answer;
(function() {
    document.onreadystatechange = loading;

    function loading() {
        if (document.readyState == "complete") {
            $(".load").remove();
            $(".container").show();
            var mySwiper = new Swiper('.swiper-container', {
                speed: 1000,
                direction: 'vertical',
                loop: false,
                noSwiping: true
            });
            // 开始游戏
            $(".start_btn").click(function() {
                mySwiper.slideNext();
                cache = group[Math.floor(Math.random() * group.length)].split(',');
                NumberGame.init(0); //初始化
            });
        }
    }
}());
var NumberGame = {
    COL: 10,
    ROW: 10,
    init: function(type) {
        var t = this;
        this.update_page(type);
        $(".txt_box").click(function(e) {
            var me = $(this);
            t.start(me);
            console.log(answer)
        });
        $(".key").click(function(e) {
            $('.txt_box').removeAttr('data-state');
            $('.active').html($(this).html()).attr('data-state','1');
        });
    },
    start: function(me) {

        if (me.attr('data-i') != "false") {
            $(".txt_box").removeClass('active');
            me.addClass('active');
            if($('.txt_box[data-state="1"]').length == '0'){

            }else{
                var this_top=$('.txt_box[data-state="1"]').position().top/60;
                var this_left=$('.txt_box[data-state="1"]').position().left/60;
                var this_txt = $('.txt_box[data-state="1"]');
                if(mydata[0][this_top][this_left]!=this_txt.html()){
                    this_txt.css('border-color','yellow');
                }else{
                    this_txt.css('border-color','#e44f25').attr('data-i','false');
                    answer--;
                }
            }
        }
    },
    update_page: function(GroupName) {
        for (var i = 0; i < this.COL; i++) {
            for (var j = 0; j < this.ROW; j++) {
                if (data[GroupName][i][j] != '0') {
                    $(".public-screen02-content").append('<div data-i="true" class="txt_box ' + i + j + '">' + data[GroupName][i][j].split(',')[0] + '</div>');
                }
                if (data[GroupName][i][j].split(',')[1] == "false") {
                    $('.' + i + j).css({
                        background: '#fadcd3'
                    }).attr('data-i', 'false');
                }
                $('.' + i + j).css({
                    top: i * 60,
                    left: j * 60
                });
            }
        }
        answer = $(".txt_box[data-i='true']").length;
    }
}